<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Golden Gate: Memory Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Golden Gate
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Memory Management</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga102d2dcf825c80ac3931b7479c08f86f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga102d2dcf825c80ac3931b7479c08f86f">GG_ClearAndFreeObject</a>(_object,  _trap_count)&#160;&#160;&#160;<a class="el" href="group__Memory.html#ga87711c7f72de6c852d1c4b2f14d7e420">GG_ClearAndFreeMemory</a>((_object), sizeof(*(_object)), (_trap_count))</td></tr>
<tr class="separator:ga102d2dcf825c80ac3931b7479c08f86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga00e11f36180828b2ed314d7e84fd9bf1"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga00e11f36180828b2ed314d7e84fd9bf1">GG_AllocateMemory</a> (size_t size)</td></tr>
<tr class="separator:ga00e11f36180828b2ed314d7e84fd9bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga070be3a1513247a0667d152c0dba9a87"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga070be3a1513247a0667d152c0dba9a87">GG_AllocateZeroMemory</a> (size_t size)</td></tr>
<tr class="separator:ga070be3a1513247a0667d152c0dba9a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae915ba2c56af78faf745ba1e99a5d7e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#gae915ba2c56af78faf745ba1e99a5d7e1">GG_FreeMemory</a> (void *memory)</td></tr>
<tr class="separator:gae915ba2c56af78faf745ba1e99a5d7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87711c7f72de6c852d1c4b2f14d7e420"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga87711c7f72de6c852d1c4b2f14d7e420">GG_ClearAndFreeMemory</a> (void *memory, size_t memory_size, size_t trap_count)</td></tr>
<tr class="separator:ga87711c7f72de6c852d1c4b2f14d7e420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c5eedb2ede7d9c3d74803be5638ab12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Errors.html#gacf7401469f33ad0744f7f1f7006fd021">GG_Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga6c5eedb2ede7d9c3d74803be5638ab12">GG_AutoreleaseWrap</a> (<a class="el" href="group__Errors.html#gacf7401469f33ad0744f7f1f7006fd021">GG_Result</a>(*function)(void *arg), void *arg)</td></tr>
<tr class="separator:ga6c5eedb2ede7d9c3d74803be5638ab12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga963e7b98879b5b8874f445add8cf2cc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga963e7b98879b5b8874f445add8cf2cc6">GG_RegisterAllocateMemoryFailureCallback</a> (GG_AllocateMemoryFailureCallback callback)</td></tr>
<tr class="separator:ga963e7b98879b5b8874f445add8cf2cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Memory management. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga102d2dcf825c80ac3931b7479c08f86f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga102d2dcf825c80ac3931b7479c08f86f">&#9670;&nbsp;</a></span>GG_ClearAndFreeObject</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GG_ClearAndFreeObject</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_trap_count&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__Memory.html#ga87711c7f72de6c852d1c4b2f14d7e420">GG_ClearAndFreeMemory</a>((_object), sizeof(*(_object)), (_trap_count))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience macro to call GG_ClearAndFreeMemory with the memory size set to the size of the object being free'd. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga00e11f36180828b2ed314d7e84fd9bf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00e11f36180828b2ed314d7e84fd9bf1">&#9670;&nbsp;</a></span>GG_AllocateMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* GG_AllocateMemory </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate memory from the default application heap. The memory is not initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Number of bytes to allocate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the allocated memory, or NULL when out of memory. </dd></dl>

</div>
</div>
<a id="ga070be3a1513247a0667d152c0dba9a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga070be3a1513247a0667d152c0dba9a87">&#9670;&nbsp;</a></span>GG_AllocateZeroMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* GG_AllocateZeroMemory </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate memory from the default application heap and initialize it to zeros.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Number of bytes to allocate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the allocated memory, or NULL when out of memory. </dd></dl>

</div>
</div>
<a id="ga6c5eedb2ede7d9c3d74803be5638ab12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c5eedb2ede7d9c3d74803be5638ab12">&#9670;&nbsp;</a></span>GG_AutoreleaseWrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Errors.html#gacf7401469f33ad0744f7f1f7006fd021">GG_Result</a> GG_AutoreleaseWrap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Errors.html#gacf7401469f33ad0744f7f1f7006fd021">GG_Result</a>(*)(void *arg)&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wrap a function invocation inside an autorelease context. (Needed by some platforms to avoid long term retention of objects)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">function</td><td>Pointer to the function that should be invoked from within the wrapping context. </td></tr>
    <tr><td class="paramname">arg</td><td>Argument that will be passed to the invoked function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The result returned by the wrapped function. </dd></dl>

</div>
</div>
<a id="ga87711c7f72de6c852d1c4b2f14d7e420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87711c7f72de6c852d1c4b2f14d7e420">&#9670;&nbsp;</a></span>GG_ClearAndFreeMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GG_ClearAndFreeMemory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>memory_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>trap_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear a block of memory that was allocated from the default application heap, then free it. Clearing fills the memory with 0s. Optionally, this function can also set one or more vtable "traps" at the start of the memory block, which allows catching invalid calls to virtual functions on objects that have been free'd.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory</td><td>The memory to clear and free. </td></tr>
    <tr><td class="paramname">memory_size</td><td>The size of the memory block to clear. </td></tr>
    <tr><td class="paramname">trap_count</td><td>The number of vtable pointers to set a trap for at the start of the block. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae915ba2c56af78faf745ba1e99a5d7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae915ba2c56af78faf745ba1e99a5d7e1">&#9670;&nbsp;</a></span>GG_FreeMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GG_FreeMemory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free a block of memory that was allocated from the default application heap.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory</td><td>The memory to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga963e7b98879b5b8874f445add8cf2cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga963e7b98879b5b8874f445add8cf2cc6">&#9670;&nbsp;</a></span>GG_RegisterAllocateMemoryFailureCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GG_RegisterAllocateMemoryFailureCallback </td>
          <td>(</td>
          <td class="paramtype">GG_AllocateMemoryFailureCallback&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register callback to be called when an GG allocate memory call fails</p>
<p>The callback can be register to call platform specific code when a memory allocation fails within the GG lib.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Pointer to function to be called on memory allocation failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
